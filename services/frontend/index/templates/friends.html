<page-element name="friends">
	{% include 'navbar.html' with authenticated="true" %}
	<div class="container mt-5">
		<title>Friends</title>
		
		<h3>Friends:</h3>
		<div id="user-friends" class="row row-cols-2">
			<!-- Friends will populate here -->
		</div>
		
		<h3 class="mt-4">Add a friend:</h3>
		<form method="GET" id="form-users" class="mb-4">
			<div class="input-group">
				<input type="text" class="form-control" placeholder="Search..." name="username">
				<button class="btn btn-outline-secondary" type="submit">Search</button>
			</div>
		</form>

		<div id="user-search-result" class="row row-cols-2">
			<!-- Search results will populate here -->
		</div>
		
		<div class="d-sm-flex align-items-center justify-content-between mt-3 mb-4">
			<h3 class="mb-3 mb-sm-0 fw-semibold d-flex align-items-center">Search Results<span class="badge text-bg-secondary fs-2 rounded-4 py-1 px-2 ms-2" id="members-count">0</span></h3>
		</div>
			<div id="friends-list2" class="row">
				<!-- The friends list will be populated here -->
			</div>
		</div>
		</div>	  
	</div>
	<div class="container py-4">
		<div class="d-flex align-items-center mb-4">
			<!-- Search Bar Container -->
			<div class="input-group input-group-lg w-100">
				<input type="text" class="form-control form-control-lg" placeholder="Search Friends or Members" aria-label="Search" id="search-bar">
				<button class="btn btn-outline-primary" type="button" id="search-btn">
					<i class="ti ti-search"></i> Search
				</button>
			</div>
		</div>
		<div class="tab-pane fade show active" id="pills-friends" role="tabpanel" aria-labelledby="pills-friends-tab" tabindex="0">
			<div class="d-sm-flex align-items-center justify-content-between mt-3 mb-4">
			  <h3 class="mb-3 mb-sm-0 fw-semibold d-flex align-items-center">Friends Requests<span class="badge text-bg-secondary fs-2 rounded-4 py-1 px-2 ms-2">1</span></h3>
			</div>
			<div class="row">
				<div class="col-sm-6 col-lg-4">
				  <div class="card hover-img">
					<div class="card-body p-4 text-center border-bottom">
					  <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="" class="rounded-circle mb-3" width="80" height="80">
					  <h5 class="fw-semibold mb-0">@user1</h5>
					</div>
					<div class="px-2 py-2 bg-light text-center">
					  <button class="btn btn-success me-2" onclick="handleFriendRequest('accept', 'user1')"> Accept</button>
					  <button  class="btn btn-danger" onclick="handleFriendRequest('decline', 'user1')"> Decline </button>
					</div>
				  </div>
				</div>
			  </div>
		  </div>
		  <div class="tab-pane fade show active" id="pills-friends" role="tabpanel" aria-labelledby="pills-friends-tab" tabindex="0">
			<div class="d-sm-flex align-items-center justify-content-between mt-3 mb-4">
			  <h3 class="mb-3 mb-sm-0 fw-semibold d-flex align-items-center">Friends<span class="badge text-bg-secondary fs-2 rounded-4 py-1 px-2 ms-2">3</span></h3>
			</div>
			<div class="row">
			  <div class="col-sm-6 col-lg-4">
				<div class="card hover-img">
				  <div class="card-body p-4 text-center border-bottom">
					<img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="" class="rounded-circle mb-3" width="80" height="80">
					<h5 class="fw-semibold mb-0">@user1</h5>
				  </div>
				  <div class="px-2 py-2 bg-light text-center">
					<button  class="btn btn-danger" onclick="handleFriendRequest('decline', 'user1')"> Remove Friend </button>
				  </div>
				</div>
			  </div>
			  <div class="col-sm-6 col-lg-4">
				<div class="card hover-img">
				  <div class="card-body p-4 text-center border-bottom">
					<img src="https://bootdey.com/img/Content/avatar/avatar2.png" alt="" class="rounded-circle mb-3" width="80" height="80">
					<h5 class="fw-semibold mb-0">@user2</h5>
				  </div>
				  <div class="px-2 py-2 bg-light text-center">
					<button  class="btn btn-danger" onclick="handleFriendRequest('decline', 'user1')"> Remove Friend </button>
				  </div>
				</div>
			  </div>
			  <div class="col-sm-6 col-lg-4">
				<div class="card hover-img">
				  <div class="card-body p-4 text-center border-bottom">
					<img src="https://bootdey.com/img/Content/avatar/avatar3.png" alt="" class="rounded-circle mb-3" width="80" height="80">
					<h5 class="fw-semibold mb-0">@user3</h5>
				  </div>
				  <div class="px-2 py-2 bg-light text-center">
					<button  class="btn btn-danger" onclick="handleFriendRequest('decline', 'user1')"> Remove Friend </button>
				  </div>
				</div>
			  </div>
			  
			</div>
		  </div>
		  <div class="tab-pane fade show active" id="pills-friends" role="tabpanel" aria-labelledby="pills-friends-tab" tabindex="0">
			<div class="d-sm-flex align-items-center justify-content-between mt-3 mb-4">
			  <h3 class="mb-3 mb-sm-0 fw-semibold d-flex align-items-center">Members<span class="badge text-bg-secondary fs-2 rounded-4 py-1 px-2 ms-2" id="members-count">0</span></h3>
			</div>
				<div id="friends-list" class="row">
					<!-- The friends list will be populated here -->
					<p>Loading...</p>
				</div>
			</div>
		  </div>	  
		</div>
	</div>
</page-element>